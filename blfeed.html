<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
  /* Ticker Container Style */
  .news-container {
    background-color: #000000; /* கருப்பு பின்னணி */
    width: 100%;
    height: 50px; /* உயரத்தை தேவைக்கேற்ப மாற்றலாம் */
    display: flex;
    align-items: center;
    overflow: hidden;
    position: relative;
    border-top: 2px solid #cc0000; /* மேலே சிவப்பு கோடு - அழகுக்காக */
    font-family: 'Arial', sans-serif;
  }

  /* Breaking News Label (Optional) */
  .label {
    background-color: #cc0000;
    color: white;
    padding: 0 15px;
    height: 100%;
    display: flex;
    align-items: center;
    font-weight: bold;
    font-size: 18px;
    z-index: 2;
    text-transform: uppercase;
  }

  /* The Ticker Text Area */
  #ticker-display {
    flex-grow: 1;
    color: #ffffff; /* வெள்ளை எழுத்து */
    font-size: 20px;
    font-weight: 500;
    padding-left: 20px;
    opacity: 0; /* ஆரம்பத்தில் மறைந்திருக்கும் */
    transition: opacity 1s ease-in-out; /* Fade Effect Magic */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Fade Classes */
  .fade-in {
    opacity: 1 !important;
  }
  
  .fade-out {
    opacity: 0 !important;
  }
</style>
</head>
<body>

<div class="news-container">
  <div class="label">BREAKING NEWS</div>
  <div id="ticker-display">செய்திகளை ஏற்றுகிறது...</div>
</div>

<script>
  // 1. இங்கு உங்கள் பிளாக் முகவரியை மாற்றவும் (கடைசியில் /feeds/posts/default சேர்க்கவும்)
  // உதாரணம்: var blogFeedUrl = "https://YOUR_BLOG_NAME.blogspot.com/feeds/posts/default?alt=json-in-script&callback=processPost";
  
  // டெஸ்டிங்கிற்காக நான் கூகுள் பிளாக் வைத்திருக்கிறேன். இதை உங்கள் URL-ஆல் மாற்றவும்.
  var blogDomain = "https://googleblog.blogspot.com"; 
  var feedUrl = blogDomain + "/feeds/posts/default?alt=json-in-script&max-results=10&callback=fetchNews";

  var newsItems = [];
  var currentIndex = 0;
  var displayTime = 4000; // செய்தி நிற்கும் நேரம் (4 நொடிகள்)
  var fadeTime = 1000;    // மறைய எடுத்துக்கொள்ளும் நேரம் (1 நொடி)

  // Blogger Feed-ஐ வாங்கும் Function
  function fetchNews(json) {
    var entry = json.feed.entry;
    if (entry) {
      for (var i = 0; i < entry.length; i++) {
        var postTitle = entry[i].title.$t;
        newsItems.push(postTitle);
      }
      // செய்திகள் வந்தவுடன் சுழற்சியைத் தொடங்கு
      startTicker();
    }
  }

  function startTicker() {
    if (newsItems.length === 0) return;
    
    var ticker = document.getElementById("ticker-display");
    
    // முதல் செய்தியை காட்டு
    updateText(ticker);

    // சுழற்சி (Loop)
    setInterval(function() {
      // 1. மறை (Fade Out)
      ticker.classList.remove("fade-in");
      ticker.classList.add("fade-out");

      // 2. மறைந்த பிறகு செய்தியை மாற்றி மீண்டும் காட்டு
      setTimeout(function() {
        updateText(ticker);
      }, fadeTime); // CSS transition நேரத்திற்கு ஏற்ப காத்திருத்தல்

    }, displayTime + fadeTime);
  }

  function updateText(element) {
    // அடுத்த செய்திக்கு மாறுதல்
    currentIndex = (currentIndex + 1) % newsItems.length;
    element.innerHTML = newsItems[currentIndex];
    
    // காட்டு (Fade In)
    element.classList.remove("fade-out");
    element.classList.add("fade-in");
  }

  // ஸ்கிரிப்டை இணைத்து Feed-ஐ வரவழைத்தல்
  var script = document.createElement('script');
  script.src = feedUrl;
  document.body.appendChild(script);

</script>

</body>
</html>
